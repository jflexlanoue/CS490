{% extends "instructor_template.twig" %}

{% block instructor %}
<center>
    <h1>Question Creation</h1>

    <div id="message">
        {{ message }}
    </div>

    <form action = "question_creation.php" method="POST">
        <label for="question">Question</label><br>
        <textarea name="question" value="question" rows="8" cols="40" placeholder="Enter question..." autofocus>{{ model["question"] }}</textarea><br>

        <label for="answer">Answer</label><br>
        <textarea name = "answer" value="answer" rows="8" cols="40" placeholder="Enter answer...">{{ model["answer"] }}</textarea><br>

        <label for="answer">Test Cases</label><br>
        <textarea name = "testcases" value="testcases" rows="4" cols="40" placeholder="Enter test cases... (comma separated list of test cases; each test case is a semicolon separated list)">{{ model["testCases"] }}</textarea><br>

        <label for="points">Points</label>
        <input type="text" name="points" placeholder="Enter point value..." value="{{ model["points"] }}">

        <input type="hidden" name="id" value="{{ model["id"] }}">
        <input type = "submit" name="btn" value="{% if editing %} Edit {% else %} Add {% endif %}" >
    </form>

    <h2>Questions/Answers Bank</h2>

        <style type="text/css">
            tr, td {border: 1px solid black; }
            tr.noBorder td {border: 0; }
        </style>

        <table>
            <tr class ="noBorder">
                <td></td>
                <td><strong><center>Question</center></strong></td>
                <td><strong><center>Answer</center></strong></td>
                <td><strong><center>Test Cases</center></strong></td>
            </tr>

            {% for i in itemarray %}
            <tr>
                <td>
                    <p># {{i.id}}</p>
                    <p>Points: {{i.points}}</p>

                    <a class="button is-fullwidth" href="question_creation.php?edit={{i.id}}">Edit</a>
                    <form name="checkForm" action="question_creation.php" method="post">
                        <input type="hidden" name="id" value="{{i.id}}">
                        <button class="button is-fullwidth is-danger" type="submit" name="delete" value="Delete" onclick="return confirm('Are you sure?');">Delete</button>
                    </form>
                </td>
                <td>{{i.question}}</td>
                <td>{{i.answer}}</td>
                <td>
                    {% for c in i.testcases %}
                        <span class="icon is-small">
                          <i class="fa fa-caret-right"></i>
                        </span>
                        {% for x in c %}
                            {{ x }},
                        {% endfor %}
                        <br>
                    {% endfor %}
                </td>
            </tr>
            {% endfor  %}

        </table>

</center>

{% endblock %}
